<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard de GestiÃ³n de Proyectos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React + ReactDOM + Babel -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <!-- Recharts UMD -->
  <script src="https://unpkg.com/recharts/umd/Recharts.min.js"></script>
</head>
<body class="bg-gray-100">
  <div id="root"></div>

  <script type="text/babel" data-presets="env,react">
    const { useState, useEffect } = React;
    const {
      BarChart: RechartsBarChart,
      Bar,
      XAxis,
      YAxis,
      CartesianGrid,
      Tooltip,
      Legend,
      ResponsiveContainer,
      LineChart,
      Line,
      PieChart: RechartsPieChart,
      Pie,
      Cell
    } = Recharts;

    /* ==== ÃCONOS SIMPLE (EMOJIS) PARA REEMPLAZAR lucide-react ==== */
    const Calendar = (props) => <span {...props}>ğŸ“…</span>;
    const Users = (props) => <span {...props}>ğŸ‘¥</span>;
    const FileText = (props) => <span {...props}>ğŸ“„</span>;
    const Clock = (props) => <span {...props}>â°</span>;
    const AlertTriangle = (props) => <span {...props}>âš ï¸</span>;
    const CheckCircle = (props) => <span {...props}>âœ…</span>;
    const BarChart2 = (props) => <span {...props}>ğŸ“Š</span>;
    const MessageSquare = (props) => <span {...props}>ğŸ’¬</span>;
    const Target = (props) => <span {...props}>ğŸ¯</span>;
    const BookOpen = (props) => <span {...props}>ğŸ“–</span>;
    const Settings = (props) => <span {...props}>âš™ï¸</span>;
    const Plus = (props) => <span {...props}>â•</span>;
    const Edit = (props) => <span {...props}>âœï¸</span>;
    const Trash2 = (props) => <span {...props}>ğŸ—‘ï¸</span>;
    const Eye = (props) => <span {...props}>ğŸ‘ï¸</span>;
    const Download = (props) => <span {...props}>â¬‡ï¸</span>;
    const Share2 = (props) => <span {...props}>ğŸ“¤</span>;
    const X = (props) => <span {...props}>âœ–ï¸</span>;
    const User = (props) => <span {...props}>ğŸ‘¤</span>;
    const Briefcase = (props) => <span {...props}>ğŸ’¼</span>;
    const Grid = (props) => <span {...props}>ğŸ”³</span>;
    const List = (props) => <span {...props}>ğŸ“‹</span>;
    const GanttChart = (props) => <span {...props}>ğŸ“ˆ</span>;
    const ClipboardList = (props) => <span {...props}>ğŸ“‘</span>;
    const CheckSquare = (props) => <span {...props}>â˜‘ï¸</span>;
    const TrendingUp = (props) => <span {...props}>ğŸ“ˆ</span>;
    const PieChart = (props) => <span {...props}>ğŸ¥§</span>;
    const Layers = (props) => <span {...props}>ğŸ§©</span>;
    const Activity = (props) => <span {...props}>ğŸ“‰</span>;

    /* ======================= APP ======================= */
    const App = () => {
      const [activeTab, setActiveTab] = useState('overview');
      const [selectedProject, setSelectedProject] = useState(null);
      const [showAddProject, setShowAddProject] = useState(false);
      const [editingProject, setEditingProject] = useState(null);
      const [editingSession, setEditingSession] = useState(null);
      const [showAddSession, setShowAddSession] = useState(false);
      const [assignmentsView, setAssignmentsView] = useState('grid');
      const [selectedMember, setSelectedMember] = useState(null);
      const [showAddTask, setShowAddTask] = useState(false);
      const [editingTask, setEditingTask] = useState(null);
      
      const [projects, setProjects] = useState([
        {
          id: 1,
          name: 'Proyecto Efecty',
          client: 'Efecty',
          status: 'En Progreso',
          progress: 65,
          plannedProgress: 70,
          stoppers: ['RevisiÃ³n de documentos', 'AprobaciÃ³n de presupuesto'],
          teamCapacity: '70%',
          deliveryDate: '2025-03-15',
          commitments: ['Entrega de prototipo', 'Pruebas de usuario'],
          weeklyReport: 'Avance en desarrollo frontend. Pruebas unitarias completadas.',
          challenges: ['IntegraciÃ³n con API externa', 'Recursos limitados'],
          startDate: '2024-12-01',
          endDate: '2025-03-15',
          tasks: [
            { id: 1, name: 'AnÃ¡lisis de requisitos', start: '2024-12-01', end: '2024-12-15', progress: 100, plannedProgress: 100, status: 'Completado' },
            { id: 2, name: 'DiseÃ±o UX/UI', start: '2024-12-10', end: '2025-01-10', progress: 80, plannedProgress: 85, status: 'En Progreso' },
            { id: 3, name: 'Desarrollo frontend', start: '2025-01-05', end: '2025-02-15', progress: 60, plannedProgress: 65, status: 'En Progreso' },
            { id: 4, name: 'Desarrollo backend', start: '2025-01-10', end: '2025-02-20', progress: 40, plannedProgress: 50, status: 'En Progreso' },
            { id: 5, name: 'Pruebas y QA', start: '2025-02-15', end: '2025-03-05', progress: 0, plannedProgress: 10, status: 'Pendiente' },
            { id: 6, name: 'Entrega final', start: '2025-03-05', end: '2025-03-15', progress: 0, plannedProgress: 0, status: 'Pendiente' }
          ],
          color: 'from-blue-500 to-indigo-600'
        },
        {
          id: 2,
          name: 'Proyecto Aseguradora Solidaria',
          client: 'Aseguradora Solidaria',
          status: 'PlaneaciÃ³n',
          progress: 20,
          plannedProgress: 25,
          stoppers: ['DefiniciÃ³n de requisitos', 'AsignaciÃ³n de recursos'],
          teamCapacity: '45%',
          deliveryDate: '2025-04-30',
          commitments: ['DocumentaciÃ³n tÃ©cnica', 'ReuniÃ³n con stakeholders'],
          weeklyReport: 'RecolecciÃ³n de requerimientos. Diagramas de flujo en proceso.',
          challenges: ['Alcance no definido', 'CoordinaciÃ³n entre equipos'],
          startDate: '2024-12-15',
          endDate: '2025-04-30',
          tasks: [
            { id: 1, name: 'RecopilaciÃ³n de requerimientos', start: '2024-12-15', end: '2025-01-15', progress: 30, plannedProgress: 35, status: 'En Progreso' },
            { id: 2, name: 'DiseÃ±o de arquitectura', start: '2025-01-10', end: '2025-02-10', progress: 0, plannedProgress: 15, status: 'Pendiente' },
            { id: 3, name: 'Desarrollo mÃ³dulo 1', start: '2025-02-01', end: '2025-03-15', progress: 0, plannedProgress: 0, status: 'Pendiente' },
            { id: 4, name: 'Desarrollo mÃ³dulo 2', start: '2025-02-15', end: '2025-03-30', progress: 0, plannedProgress: 0, status: 'Pendiente' },
            { id: 5, name: 'IntegraciÃ³n y pruebas', start: '2025-03-20', end: '2025-04-20', progress: 0, plannedProgress: 0, status: 'Pendiente' },
            { id: 6, name: 'Entrega y capacitaciÃ³n', start: '2025-04-20', end: '2025-04-30', progress: 0, plannedProgress: 0, status: 'Pendiente' }
          ],
          color: 'from-green-500 to-emerald-600'
        },
        {
          id: 3,
          name: 'Proyecto Digital Transformation',
          client: 'TechCorp',
          status: 'En Progreso',
          progress: 45,
          plannedProgress: 50,
          stoppers: ['AprobaciÃ³n de diseÃ±o', 'Recursos tÃ©cnicos'],
          teamCapacity: '60%',
          deliveryDate: '2025-05-20',
          commitments: ['MigraciÃ³n de datos', 'CapacitaciÃ³n del equipo'],
          weeklyReport: 'DiseÃ±o finalizado. Inicio de desarrollo backend.',
          challenges: ['Compatibilidad con sistemas legacy', 'Timeline ajustado'],
          startDate: '2024-11-20',
          endDate: '2025-05-20',
          tasks: [
            { id: 1, name: 'AnÃ¡lisis de sistemas', start: '2024-11-20', end: '2024-12-10', progress: 100, plannedProgress: 100, status: 'Completado' },
            { id: 2, name: 'DiseÃ±o arquitectura', start: '2024-12-05', end: '2025-01-15', progress: 100, plannedProgress: 100, status: 'Completado' },
            { id: 3, name: 'Desarrollo mÃ³dulo core', start: '2025-01-15', end: '2025-03-15', progress: 30, plannedProgress: 40, status: 'En Progreso' },
            { id: 4, name: 'IntegraciÃ³n APIs', start: '2025-02-01', end: '2025-03-30', progress: 15, plannedProgress: 25, status: 'En Progreso' },
            { id: 5, name: 'MigraciÃ³n de datos', start: '2025-03-15', end: '2025-04-30', progress: 0, plannedProgress: 5, status: 'Pendiente' },
            { id: 6, name: 'Pruebas finales', start: '2025-04-20', end: '2025-05-15', progress: 0, plannedProgress: 0, status: 'Pendiente' }
          ],
          color: 'from-purple-500 to-pink-600'
        }
      ]);

      const [sessions, setSessions] = useState([
        {
          id: 1,
          type: 'Internas',
          frequency: 'Semanal',
          purpose: 'RevisiÃ³n de avances y bloqueadores',
          nextDate: '2025-12-10',
          participants: 'Equipo tÃ©cnico',
          duration: '1 hora'
        },
        {
          id: 2,
          type: 'Clientes',
          frequency: 'Quincenal',
          purpose: 'ActualizaciÃ³n de estado del proyecto',
          nextDate: '2025-12-18',
          participants: 'Cliente + Gerente de proyecto',
          duration: '45 minutos'
        }
      ]);

      const [teamMembers, setTeamMembers] = useState([
        {
          id: 1,
          name: 'Carlos RodrÃ­guez',
          role: 'Desarrollador Frontend',
          avatar: 'https://placehold.co/40x40/3b82f6/ffffff?text=CR',
          projects: [
            { projectId: 1, projectName: 'Proyecto Efecty', hours: 24, tasks: ['Desarrollo de interfaz', 'Pruebas unitarias'], status: 'En Progreso' }
          ],
          availability: '80%',
          skills: ['React', 'JavaScript', 'Tailwind CSS']
        },
        {
          id: 2,
          name: 'MarÃ­a GonzÃ¡lez',
          role: 'Desarrollador Backend',
          avatar: 'https://placehold.co/40x40/ef4444/ffffff?text=MG',
          projects: [
            { projectId: 1, projectName: 'Proyecto Efecty', hours: 20, tasks: ['API REST', 'IntegraciÃ³n con base de datos'], status: 'En Progreso' },
            { projectId: 2, projectName: 'Proyecto Aseguradora Solidaria', hours: 12, tasks: ['AnÃ¡lisis de requerimientos'], status: 'PlaneaciÃ³n' }
          ],
          availability: '60%',
          skills: ['Node.js', 'Python', 'PostgreSQL']
        },
        {
          id: 3,
          name: 'AndrÃ©s MartÃ­nez',
          role: 'DiseÃ±ador UX/UI',
          avatar: 'https://placehold.co/40x40/10b981/ffffff?text=AM',
          projects: [
            { projectId: 2, projectName: 'Proyecto Aseguradora Solidaria', hours: 16, tasks: ['DiseÃ±o de wireframes', 'Prototipado'], status: 'PlaneaciÃ³n' }
          ],
          availability: '90%',
          skills: ['Figma', 'Adobe XD', 'User Research']
        },
        {
          id: 4,
          name: 'Laura PÃ©rez',
          role: 'Project Manager',
          avatar: 'https://placehold.co/40x40/f59e0b/ffffff?text=LP',
          projects: [
            { projectId: 1, projectName: 'Proyecto Efecty', hours: 8, tasks: ['CoordinaciÃ³n del equipo', 'GestiÃ³n de riesgos'], status: 'En Progreso' },
            { projectId: 2, projectName: 'Proyecto Aseguradora Solidaria', hours: 12, tasks: ['GestiÃ³n de stakeholders', 'PlanificaciÃ³n'], status: 'PlaneaciÃ³n' }
          ],
          availability: '70%',
          skills: ['Scrum', 'Kanban', 'JIRA']
        },
        {
          id: 5,
          name: 'Javier Torres',
          role: 'DevOps Engine
